function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("filter_geodata/mapdisplay",["jquery","core/modal_factory","core/modal_events","local_leaflet/core","local_leaflet/osmbasemap"],function(a,b,c,d,e){var f=null,g=function(a){if(f){f.off();f.remove()}a.destroy()},h=function(a){var b=a.getNorthEast(),c=a.getSouthWest();return b.lat===c.lat&&b.lng===c.lng},i=function(a){if(h(a)){f.setView(a.getCenter(),15)}else{f.fitBounds(a)}},j=function(a){var b=d.geoJSON(a);b.addTo(f);i(b.getBounds())},k=function(a){var b=a.split(",").map(function(a){return parseFloat(a.trim())});if(1<b.length){var c=d.marker({lat:b[0],lng:b[1]}).addTo(f);f.setView(c.getLatLng(),15)}},l=function(){var b=a("#filter-geodata-modal geodata");if(!b.length){return}f=d.map("filter-geodata-map");e.addTo(f);if("geojson"===b.attr("format")){j(JSON.parse(b.html()))}else if("point"===b.attr("format")){k(b.html())}},m=function(a){a.getRoot().on(c.hidden,function(){return g(a)});a.getRoot().on(c.shown,l);a.show()};return function(a){if("undefined"===!_typeof(d)){console.error("Leaflet is not initialised!");return}var c=a.find("geodata")[0].outerHTML;b.create({title:M.str.filter_geodata.mapviewer,body:"<div id=\"filter-geodata-modal\"><div id=\"filter-geodata-map\" style=\"width:100%;height:60vh;\"></div>"+c+"</div>",large:!0,type:b.types.ALERT}).then(m)}});
//# sourceMappingURL=mapdisplay.min.js.map
