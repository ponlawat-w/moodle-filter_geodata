{"version":3,"sources":["../src/generatelink.js"],"names":["define","$","getGeodataFormat","$div","hasClass","initiateGeodata","element","$element","closest","length","format","$geo","attr","css","html","$a","addClass","append","M","str","filter_geodata","viewinmap","replaceWith","$geos","each","idx","geo"],"mappings":"AAAAA,OAAM,+BAAC,CAAC,QAAD,CAAD,CAAa,SAAAC,CAAC,CAAI,IAEhBC,CAAAA,CAAgB,CAAG,SAAAC,CAAI,CAAI,CAC/B,GAAIA,CAAI,CAACC,QAAL,CAAc,wBAAd,CAAJ,CAA6C,CAC3C,MAAO,SACR,CAFD,IAEO,IAAID,CAAI,CAACC,QAAL,CAAc,sBAAd,CAAJ,CAA2C,CAChD,MAAO,OACR,CAEF,CATqB,CAWhBC,CAAe,CAAG,SAAAC,CAAO,CAAI,CACjC,GAAMC,CAAAA,CAAQ,CAAGN,CAAC,CAACK,CAAD,CAAlB,CACA,GAAIC,CAAQ,CAACC,OAAT,CAAiB,6BAAjB,EAAgDC,MAApD,CAA4D,CAC1D,MACD,CAED,GAAMC,CAAAA,CAAM,CAAGR,CAAgB,CAACK,CAAD,CAA/B,CACA,GAAI,CAACG,CAAL,CAAa,CACX,MACD,CATgC,GAW3BC,CAAAA,CAAI,CAAGV,CAAC,CAAC,WAAD,CAAD,CACVW,IADU,CACL,QADK,CACKF,CADL,EAEVG,GAFU,CAEN,SAFM,CAEK,MAFL,EAGVC,IAHU,CAGLP,CAAQ,CAACO,IAAT,EAHK,CAXoB,CAgB3BC,CAAE,CAAGd,CAAC,CAAC,KAAD,CAAD,CACRW,IADQ,CACH,MADG,CACK,qBADL,EAERI,QAFQ,CAEC,uBAFD,EAGRF,IAHQ,CAGHb,CAAC,CAAC,KAAD,CAAD,CAASe,QAAT,CAAkB,kBAAlB,CAHG,EAIRC,MAJQ,CAID,GAJC,EAKRA,MALQ,CAKDC,CAAC,CAACC,GAAF,CAAMC,cAAN,CAAqBC,SALpB,EAMRJ,MANQ,CAMDN,CANC,CAhBsB,CAwBjCJ,CAAQ,CAACe,WAAT,CAAqBP,CAArB,CACD,CApCqB,CAsCtB,MAAO,UAAAQ,CAAK,CAAI,CACd,GAAIA,CAAK,CAACd,MAAV,CAAkB,CAChBc,CAAK,CAACC,IAAN,CAAW,SAACC,CAAD,CAAMC,CAAN,QAAcrB,CAAAA,CAAe,CAACqB,CAAD,CAA7B,CAAX,CACD,CACF,CACF,CA3CK,CAAN","sourcesContent":["define(['jquery'], $ => {\n\n  const getGeodataFormat = $div => {\n    if ($div.hasClass('filter-geodata-geojson')) {\n      return 'geojson';\n    } else if ($div.hasClass('filter-geodata-point')) {\n      return 'point';\n    }\n    return undefined;\n  };\n\n  const initiateGeodata = element => {\n    const $element = $(element);\n    if ($element.closest('textarea input .editor_atto').length) {\n      return;\n    }\n\n    const format = getGeodataFormat($element);\n    if (!format) {\n      return;\n    }\n\n    const $geo = $('<geodata>')\n      .attr('format', format)\n      .css('display', 'none')\n      .html($element.html());\n\n    const $a = $('<a>')\n      .attr('href', 'javascript:void(0);')\n      .addClass('filter-geodata-a mx-1')\n      .html($('<i>').addClass('fa fa-map-marker'))\n      .append(' ')\n      .append(M.str.filter_geodata.viewinmap)\n      .append($geo);\n\n    $element.replaceWith($a);\n  };\n\n  return $geos => {\n    if ($geos.length) {\n      $geos.each((idx, geo) => initiateGeodata(geo));\n    }\n  };\n});\n"],"file":"generatelink.min.js"}