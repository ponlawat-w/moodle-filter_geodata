{"version":3,"sources":["../src/generatelink.js"],"names":["define","$","GetGeodataFormat","initiateGeodata","element","$element","closest","length","format","$geo","attr","css","html","$a","addClass","append","M","str","filter_geodata","viewinmap","replaceWith","$geos","each","idx","geo"],"mappings":"AAAAA,OAAM,+BAAC,CAAC,QAAD,CAAW,iCAAX,CAAD,CAAgD,SAACC,CAAD,CAAIC,CAAJ,CAAyB,CAE7E,GAAMC,CAAAA,CAAe,CAAG,SAAAC,CAAO,CAAI,CACjC,GAAMC,CAAAA,CAAQ,CAAGJ,CAAC,CAACG,CAAD,CAAlB,CACA,GAAIC,CAAQ,CAACC,OAAT,CAAiB,UAAjB,EAA6BC,MAA7B,EACAF,CAAQ,CAACC,OAAT,CAAiB,OAAjB,EAA0BC,MAD1B,EAEAF,CAAQ,CAACC,OAAT,CAAiB,cAAjB,EAAiCC,MAFrC,CAE6C,CAC3C,MACD,CAED,GAAMC,CAAAA,CAAM,CAAGN,CAAgB,CAACG,CAAD,CAA/B,CACA,GAAI,CAACG,CAAL,CAAa,CACX,MACD,CAXgC,GAa3BC,CAAAA,CAAI,CAAGR,CAAC,CAAC,WAAD,CAAD,CACVS,IADU,CACL,QADK,CACKF,CADL,EAEVG,GAFU,CAEN,SAFM,CAEK,MAFL,EAGVC,IAHU,CAGLP,CAAQ,CAACO,IAAT,EAHK,CAboB,CAkB3BC,CAAE,CAAGZ,CAAC,CAAC,KAAD,CAAD,CACRS,IADQ,CACH,MADG,CACK,qBADL,EAERI,QAFQ,CAEC,uBAFD,EAGRF,IAHQ,CAGHX,CAAC,CAAC,KAAD,CAAD,CAASa,QAAT,CAAkB,kBAAlB,CAHG,EAIRC,MAJQ,CAID,GAJC,EAKRA,MALQ,CAKDC,CAAC,CAACC,GAAF,CAAMC,cAAN,CAAqBC,SALpB,EAMRJ,MANQ,CAMDN,CANC,CAlBsB,CA0BjCJ,CAAQ,CAACe,WAAT,CAAqBP,CAArB,CACD,CA3BD,CA6BA,MAAO,UAAAQ,CAAK,CAAI,CACd,GAAIA,CAAK,CAACd,MAAV,CAAkB,CAChBc,CAAK,CAACC,IAAN,CAAW,SAACC,CAAD,CAAMC,CAAN,QAAcrB,CAAAA,CAAe,CAACqB,CAAD,CAA7B,CAAX,CACD,CACF,CACF,CApCK,CAAN","sourcesContent":["define(['jquery', 'filter_geodata/getgeodataformat'], ($, GetGeodataFormat) => {\n\n  const initiateGeodata = element => {\n    const $element = $(element);\n    if ($element.closest('textarea').length ||\n        $element.closest('input').length ||\n        $element.closest('.editor_atto').length) {\n      return;\n    }\n\n    const format = GetGeodataFormat($element);\n    if (!format) {\n      return;\n    }\n\n    const $geo = $('<geodata>')\n      .attr('format', format)\n      .css('display', 'none')\n      .html($element.html());\n\n    const $a = $('<a>')\n      .attr('href', 'javascript:void(0);')\n      .addClass('filter-geodata-a mx-1')\n      .html($('<i>').addClass('fa fa-map-marker'))\n      .append(' ')\n      .append(M.str.filter_geodata.viewinmap)\n      .append($geo);\n\n    $element.replaceWith($a);\n  };\n\n  return $geos => {\n    if ($geos.length) {\n      $geos.each((idx, geo) => initiateGeodata(geo));\n    }\n  };\n});\n"],"file":"generatelink.min.js"}