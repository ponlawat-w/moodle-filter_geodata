{"version":3,"sources":["../src/generatelink.js"],"names":["define","$","getGeodataFormat","$div","hasClass","initiateGeodata","div","parent","length","format","$geo","attr","css","html","$a","addClass","append","M","str","filter_geodata","viewinmap","replaceWith","$geoDivs","each","idx","geoDiv"],"mappings":"AAAAA,OAAM,+BAAC,CAAC,QAAD,CAAD,CAAa,SAAAC,CAAC,CAAI,IAEhBC,CAAAA,CAAgB,CAAG,SAAAC,CAAI,CAAI,CAC/B,GAAIA,CAAI,CAACC,QAAL,CAAc,wBAAd,CAAJ,CAA6C,CAC3C,MAAO,SACR,CAFD,IAEO,IAAID,CAAI,CAACC,QAAL,CAAc,sBAAd,CAAJ,CAA2C,CAChD,MAAO,OACR,CAEF,CATqB,CAWhBC,CAAe,CAAG,SAAAC,CAAG,CAAI,CAC7B,GAAMH,CAAAA,CAAI,CAAGF,CAAC,CAACK,CAAD,CAAd,CACA,GAAIH,CAAI,CAACI,MAAL,CAAY,gBAAZ,EAA8BC,MAAlC,CAA0C,CACxC,MACD,CAED,GAAMC,CAAAA,CAAM,CAAGP,CAAgB,CAACC,CAAD,CAA/B,CACA,GAAI,CAACM,CAAL,CAAa,CACX,MACD,CAT4B,GAWvBC,CAAAA,CAAI,CAAGT,CAAC,CAAC,WAAD,CAAD,CACVU,IADU,CACL,QADK,CACKF,CADL,EAEVG,GAFU,CAEN,SAFM,CAEK,MAFL,EAGVC,IAHU,CAGLV,CAAI,CAACU,IAAL,EAHK,CAXgB,CAgBvBC,CAAE,CAAGb,CAAC,CAAC,KAAD,CAAD,CACRU,IADQ,CACH,MADG,CACK,qBADL,EAERI,QAFQ,CAEC,uBAFD,EAGRF,IAHQ,CAGHZ,CAAC,CAAC,KAAD,CAAD,CAASc,QAAT,CAAkB,kBAAlB,CAHG,EAIRC,MAJQ,CAID,GAJC,EAKRA,MALQ,CAKDC,CAAC,CAACC,GAAF,CAAMC,cAAN,CAAqBC,SALpB,EAMRJ,MANQ,CAMDN,CANC,CAhBkB,CAwB7BP,CAAI,CAACkB,WAAL,CAAiBP,CAAjB,CACD,CApCqB,CAsCtB,MAAO,UAAAQ,CAAQ,CAAI,CACjB,GAAIA,CAAQ,CAACd,MAAb,CAAqB,CACnBc,CAAQ,CAACC,IAAT,CAAc,SAACC,CAAD,CAAMC,CAAN,QAAiBpB,CAAAA,CAAe,CAACoB,CAAD,CAAhC,CAAd,CACD,CACF,CACF,CA3CK,CAAN","sourcesContent":["define(['jquery'], $ => {\n\n  const getGeodataFormat = $div => {\n    if ($div.hasClass('filter-geodata-geojson')) {\n      return 'geojson';\n    } else if ($div.hasClass('filter-geodata-point')) {\n      return 'point';\n    }\n    return undefined;\n  };\n\n  const initiateGeodata = div => {\n    const $div = $(div);\n    if ($div.parent('textarea input').length) {\n      return;\n    }\n\n    const format = getGeodataFormat($div);\n    if (!format) {\n      return;\n    }\n\n    const $geo = $('<geodata>')\n      .attr('format', format)\n      .css('display', 'none')\n      .html($div.html());\n\n    const $a = $('<a>')\n      .attr('href', 'javascript:void(0);')\n      .addClass('filter-geodata-a mx-1')\n      .html($('<i>').addClass('fa fa-map-marker'))\n      .append(' ')\n      .append(M.str.filter_geodata.viewinmap)\n      .append($geo);\n\n    $div.replaceWith($a);\n  };\n\n  return $geoDivs => {\n    if ($geoDivs.length) {\n      $geoDivs.each((idx, geoDiv) => initiateGeodata(geoDiv));\n    }\n  };\n});\n"],"file":"generatelink.min.js"}